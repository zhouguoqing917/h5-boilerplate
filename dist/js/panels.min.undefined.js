+function(e){"use strict";e.allowPanelOpen=!0,e.openPanel=function(a){function n(){s.transitionEnd(function(t){t.target===s[0]?(a.hasClass("active")?a.trigger("opened"):a.trigger("closed"),e.allowPanelOpen=!0):n()})}if(!e.allowPanelOpen)return!1;("left"===a||"right"===a)&&(a=".panel-"+a),a=a?e(a):e(".panel").eq(0);var t=a.hasClass("panel-right")?"right":"left";if(0===a.length||a.hasClass("active"))return!1;e.closePanel(),e.allowPanelOpen=!1;var l=a.hasClass("panel-reveal")?"reveal":"cover";a.css({display:"block"}).addClass("active"),a.trigger("open");var s=(a[0].clientLeft,"reveal"===l?e(e.getCurrentPage()):a);return n(),e(document.body).addClass("with-panel-"+t+"-"+l),!0},e.closePanel=function(){var a=e(".panel.active");if(0===a.length)return!1;var n=a.hasClass("panel-reveal")?"reveal":"cover",t=a.hasClass("panel-left")?"left":"right";a.removeClass("active");var l="reveal"===n?e(".page"):a;a.trigger("close"),e.allowPanelOpen=!1,l.transitionEnd(function(){a.hasClass("active")||(a.css({display:""}),a.trigger("closed"),e("body").removeClass("panel-closing"),e.allowPanelOpen=!0)}),e("body").addClass("panel-closing").removeClass("with-panel-"+t+"-"+n)},e(document).on("click",".open-panel",function(a){var n=e(a.target).data(n);e.openPanel(n)}),e(document).on("click",".close-panel, .panel-overlay",function(a){e.closePanel()}),e.initSwipePanels=function(){function a(a){if(x=e(e.getCurrentPage()),e.allowPanelOpen&&(i||r)&&!v&&!(e(".modal-in, .photo-browser-in").length>0)&&(o||r||!(e(".panel.active").length>0)||l.hasClass("active"))){var n=e.getTouchPosition(a);if(O.x=n.x,O.y=n.y,o||r){if(e(".panel.active").length>0)s=e(".panel.active").hasClass("panel-left")?"left":"right";else{if(r)return;s=i}if(!s)return}if(l=e(".panel.panel-"+s),l[0]){if(w=l.hasClass("active"),c&&!w){if("left"===s&&O.x>c)return;if("right"===s&&O.x<window.innerWidth-c)return}h=!1,v=!0,g=void 0,d=(new Date).getTime(),y=void 0}}}function n(a){if(v&&l[0]&&!a.f7PreventPanelSwipe){var n=e.getTouchPosition(a),t=n.x,i=n.y;if("undefined"==typeof g&&(g=!!(g||Math.abs(i-O.y)>Math.abs(t-O.x))),g)return void(v=!1);if(!y&&(y=t>O.x?"to-right":"to-left","left"===s&&"to-left"===y&&!l.hasClass("active")||"right"===s&&"to-right"===y&&!l.hasClass("active")))return void(v=!1);if(f){var r=(new Date).getTime()-d;return 300>r&&("to-left"===y&&("right"===s&&e.openPanel(s),"left"===s&&l.hasClass("active")&&e.closePanel()),"to-right"===y&&("left"===s&&e.openPanel(s),"right"===s&&l.hasClass("active")&&e.closePanel())),v=!1,void(h=!1)}h||(m=l.hasClass("panel-cover")?"cover":"reveal",w||(l.show(),b.show()),C=l[0].offsetWidth,l.transition(0)),h=!0,a.preventDefault();var o=w?0:-p;"right"===s&&(o=-o),u=t-O.x+o,"right"===s?(P=u-(w?C:0),P>0&&(P=0),-C>P&&(P=-C)):(P=u+(w?C:0),0>P&&(P=0),P>C&&(P=C)),"reveal"===m?(x.transform("translate3d("+P+"px,0,0)").transition(0),b.transform("translate3d("+P+"px,0,0)")):l.transform("translate3d("+P+"px,0,0)").transition(0)}}function t(a){if(!v||!h)return v=!1,void(h=!1);v=!1,h=!1;var n,t=(new Date).getTime()-d,i=0===P||Math.abs(P)===C;if(n=w?P===-C?"reset":300>t&&Math.abs(P)>=0||t>=300&&Math.abs(P)<=C/2?"left"===s&&P===C?"reset":"swap":"reset":0===P?"reset":300>t&&Math.abs(P)>0||t>=300&&Math.abs(P)>=C/2?"swap":"reset","swap"===n&&(e.allowPanelOpen=!0,w?(e.closePanel(),i&&(l.css({display:""}),e("body").removeClass("panel-closing"))):e.openPanel(s),i&&(e.allowPanelOpen=!0)),"reset"===n)if(w)e.allowPanelOpen=!0,e.openPanel(s);else if(e.closePanel(),i)e.allowPanelOpen=!0,l.css({display:""});else{var r="reveal"===m?x:l;e("body").addClass("panel-closing"),r.transitionEnd(function(){e.allowPanelOpen=!0,l.css({display:""}),e("body").removeClass("panel-closing")})}"reveal"===m&&(x.transition(""),x.transform("")),l.transition("").transform(""),b.css({display:""}).transform("")}var l,s,i=e.smConfig.swipePanel,r=e.smConfig.swipePanelOnlyClose,o=!0,c=!1,p=2,f=!1;if(i||r){var v,h,g,d,u,P,w,C,m,y,b=e(".panel-overlay"),O={},x=e(e.getCurrentPage());e(document).on(e.touchEvents.start,a),e(document).on(e.touchEvents.move,n),e(document).on(e.touchEvents.end,t)}},e.initSwipePanels()}($);