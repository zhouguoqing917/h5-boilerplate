+function(i){"use strict";var t,o,n,a,c,e,s=function(o){var n=i.getTouchPosition(o);a=n,c=e=0,t.addClass("touching")},l=function(o){if(!a)return!1;o.preventDefault(),o.stopPropagation();var n=i.getTouchPosition(o);c=n.x-a.x,e=n.y-a.y,e>0&&(e=Math.sqrt(e)),t.css("transform","translate3d(0, "+e+"px, 0)")},d=function(){t.removeClass("touching"),t.attr("style",""),0>e&&Math.abs(e)>.38*t.height()&&i.closeNotification(),Math.abs(c)<=1&&Math.abs(e)<=1&&t.trigger("noti-click"),a=!1},f=function(t){t.on(i.touchEvents.start,s),t.on(i.touchEvents.move,l),t.on(i.touchEvents.end,d)};i.notification=i.noti=function(a){a=i.extend({},o,a),t=i(".notification"),t[0]||(t=i('<div class="notification"></div>').appendTo(document.body),f(t)),t.off("noti-click"),a.onClick&&t.on("noti-click",function(){a.onClick(a.data)}),t.html(i.t7.compile(a.tpl)(a)),t.show(),t.addClass("notification-in"),t.data("params",a);var c=function(){n&&(clearTimeout(n),n=null),n=setTimeout(function(){t.hasClass("touching")?c():i.closeNotification()},a.time)};c()},i.closeNotification=function(){n&&clearTimeout(n),n=null;var t=i(".notification").removeClass("notification-in").transitionEnd(function(){i(this).remove()});if(t[0]){var o=i(".notification").data("params");o&&o.onClose&&o.onClose(o.data)}},o=i.noti.prototype.defaults={title:void 0,text:void 0,media:void 0,time:4e3,onClick:void 0,onClose:void 0,data:void 0,tpl:'<div class="notification-inner">{{#if media}}<div class="notification-media">{{media}}</div>{{/if}}<div class="notification-content">{{#if title}}<div class="notification-title">{{title}}</div>{{/if}}{{#if text}}<div class="notification-text">{{text}}</div>{{/if}}</div><div class="notification-handle-bar"></div></div>'}}($);