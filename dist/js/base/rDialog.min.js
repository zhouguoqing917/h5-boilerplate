!function(t,i,s){var n=t(i),e=(t(document),1),o=!1,a=function(i){this.settings=t.extend({},a.defaults,i),this.init()};a.prototype={init:function(){this.create(),this.settings.lock&&this.lock(),isNaN(this.settings.time)||null==this.settings.time||this.time()},create:function(){var i=(new Date).getTime(),s=null==this.settings.title?"":'<div class="rDialog-header-'+this.settings.title+'"></div>',n='<div class="rDialog-wrap" data-ts="'+i+'">'+s+'<div class="rDialog-content">'+this.settings.content+'</div><div class="rDialog-footer"></div></div>';this.dialog=t("<div>").addClass("rDialog").css({zIndex:this.settings.zIndex+e++}).html(n).prependTo("body"),t.isFunction(this.settings.ok)&&this.ok(),t.isFunction(this.settings.cancel)&&this.cancel(),this.size(),this.position()},ok:function(){var i=this,n=this.dialog.find(".rDialog-footer");t("<a>",{href:"javascript:;",text:this.settings.okText}).on("click",function(){var t=i.settings.ok();(t==s||t)&&i.close()}).addClass("rDialog-ok").prependTo(n)},cancel:function(){var i=this,n=this.dialog.find(".rDialog-footer");t("<a>",{href:"javascript:;",text:this.settings.cancelText}).on("click",function(){var t=i.settings.cancel();(t==s||t)&&i.close()}).addClass("rDialog-cancel").appendTo(n)},size:function(){var t=this.dialog.find(".rDialog-content");this.dialog.find(".rDialog-wrap");t.css({width:this.settings.width,height:this.settings.height})},position:function(){var t=this,i=n.width(),s=n.height(),e=0;this.dialog.css({left:(i-t.dialog.width())/2,top:(s-t.dialog.height())/2+e})},lock:function(){o||(this.lock=t("<div>").css({zIndex:this.settings.zIndex}).addClass("rDialog-mask"),this.lock.appendTo("body"),o=!0)},unLock:function(){this.settings.lock&&o&&(this.lock.remove(),o=!1)},close:function(){this.dialog.remove(),this.unLock()},time:function(){var t=this;this.closeTimer=setTimeout(function(){t.close()},this.settings.time)}},a.defaults={content:"加载中...",title:"load",width:"auto",height:"auto",ok:null,cancel:null,okText:"确定",cancelText:"取消",time:null,lock:!0,zIndex:9999};var l=function(t){return new a(t)};i.rDialog=t.rDialog=l}(window.jQuery||window.Zepto,window);