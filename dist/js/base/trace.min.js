!function(n,i){var r=n.VARS,o={},t=window.navigator.userAgent;o.sysOS=function(){if(r.IsIOS)return"ios";if(r.IsAndroid)return"android";var n="Win32"==navigator.platform||"Win64"==navigator.platform||"Windows"==navigator.platform,i="Mac68K"==navigator.platform||"MacPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;if(i)return"Mac";var o="X11"==navigator.platform&&!n&&!i;if(o)return"Unix";var a=String(navigator.platform).indexOf("Linux")>-1;if(a)return"Linux";if(n){var e=t.indexOf("Windows NT 5.0")>-1||t.indexOf("Windows 2000")>-1;if(e)return"Win2000";var f=t.indexOf("Windows NT 5.1")>-1||t.indexOf("Windows XP")>-1;if(f)return"WinXP";var s=t.indexOf("Windows NT 5.2")>-1||t.indexOf("Windows 2003")>-1;if(s)return"Win2003";var d=t.indexOf("Windows NT 6.0")>-1||t.indexOf("Windows Vista")>-1;if(d)return"WinVista";var u=t.indexOf("Windows NT 6.1")>-1||t.indexOf("Windows 7")>-1;if(u)return"Win7";var c=t.indexOf("Windows NT 6.2")>-1||t.indexOf("Windows 8")>-1;if(c)return"Win8"}return r.IsWindows?"windows":"other"},o.sysPlatform=function(){if(r.IsIOS)return r.IsIPad?"ipad":"iphone";if(r.IsAndroid)return r.IsAndroidPad?"androidpad":"android";if(r.IsWindowsPhone)return"windowsphone";if(r.IsWindows){var n="Win32"==navigator.platform||"Windows"==navigator.platform,i=t.indexOf("WOW64")>-1||t.indexOf("Win64")>-1;return n&&i?"Win64":"Win32"}return navigator.platform},o.imgPingback=function(n,i,o){var t=arguments.length;if(t&&(1!==t||"string"==typeof arguments[0])){n=arguments[0],2===t?"function"==typeof arguments[1]?o=arguments[1]:i=arguments[1]:3===t&&(i=arguments[1],o=arguments[2]);var a=n.split("|"),e=[],f=0,s=a.length;!function d(n){e[n]=new Image,e[n].onabort=e[n].onerror=e[n].onload=function(){r.ENABLE_DEBUG&&void 0!==i&&(r.ADPingbackCount++,console.log("第"+r.ADPingbackCount+"个上报,第"+i+"秒:",a[f])),++n>=s?o&&"function"==typeof o&&o():d(n)},e[n].src=a[n]}(f)}},o.pingback=function(n,t,a,e){t=t||n&&n.attr("position")||"";var f=(window.pageData||{},{}),s=location.href||"http://m.tv.sohu.com/";a=a||n&&n.attr("details")||{};try{f={t:+new Date,op:"click",details:JSON.stringify(a),url:encodeURIComponent(s),refer:encodeURIComponent(document.referrer||""),screen:r.ScreenSize,os:o.sysOS(),platform:o.sysPlatform()}}catch(d){console.log("trace click exception ",d)}o.imgPingback("/pv.gif?"+i.param(f),e)},n.Trace=o,"function"==typeof define&&define("base/trace",function(require,exports,module){module.exports=o})}(window);